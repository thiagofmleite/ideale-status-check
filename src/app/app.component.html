<nav class="my-2 my-md-0 mr-md-3 navbar navbar-dark bg-primary">
  <a class="navbar-brand" href="#">Status Check</a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExample01" aria-controls="navbarsExample01"
    aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="navbarsExample01">
    <ul class="navbar-nav mr-auto">
      <li class="nav-item active">
        <a *ngFor="let group of groups; let g=index" class="nav-link" href="#" (click)="selectGroup($event, group)" >
          <span class="badge" [ngClass]="getHealthBadge(myBusiness.calcHealth(group.apis))">{{ myBusiness.getLive(group.apis) }}</span>
          {{ group.environment.label }} {{ group.type.label }}
        </a>
      </li>
    </ul>
  </div>
</nav>
<main role="main" class="container">
  <div class="d-flex align-items-center p-3 my-3 text-white-50 bg-primary rounded box-shadow">
    <div class="lh-100">
      <h6 class="mb-0 text-white lh-100">{{ environmentTitle() }}</h6>
      <small>{{ myBusiness.totalApis(selectedGroup().apis) }} APIs</small>
    </div>
  </div>

  <div class="my-3 p-3 bg-white rounded box-shadow">
    <app-chart [apis]="selectedGroup().apis"></app-chart>
  </div>
  <div class="my-3 p-3 bg-white rounded box-shadow">
    <h6 class="border-bottom border-gray pb-2 mb-0">APIs</h6>
    <div class="media text-muted pt-3" *ngFor="let api of selectedGroup().apis; let i=index">
      <div class="media-body pb-3 mb-0 small lh-125 border-bottom border-gray">
        <div class="d-flex justify-content-between align-items-center w-100">
          <strong class="text-gray-dark">{{ api.name }}</strong>
          <a [attr.href]="api.url" target="_blank">URL</a>
        </div>
        <span class="badge" [ngClass]="getStatusClass(api)">{{ getStatus(api) }}</span>
      </div>
    </div>
  </div>
</main>
